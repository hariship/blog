"use strict";(self.webpackChunkmy_rss_reader=self.webpackChunkmy_rss_reader||[]).push([[304],{8304:(t,a,e)=>{e.d(a,{uploadAndReplaceImagesInHtml:()=>s});var r=e(6213);async function s(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat("https://api.haripriya.org","/upload-image");const e=(new DOMParser).parseFromString(t,"text/html"),s=Array.from(e.querySelectorAll("img")),n=[];return s.forEach((t=>{const e=t.getAttribute("src");if(e&&e.startsWith("data:")){const s=async function(t,a){const e=await fetch(t),s=await e.blob(),n=new FormData;n.append("image",s,"upload.png");const o=await r.A.post(a,n,{headers:{"Content-Type":"multipart/form-data"}});return o.data.imageUrl}(e,a).then((a=>{t.setAttribute("src",a)})).catch((()=>{}));n.push(s)}})),await Promise.all(n),s.forEach((t=>{t.style.display="block",t.style.margin="16px auto",t.style.maxWidth="100%"})),e.body.innerHTML}}}]);
//# sourceMappingURL=304.bea34376.chunk.js.map